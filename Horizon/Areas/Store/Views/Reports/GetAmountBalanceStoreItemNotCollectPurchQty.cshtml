@model AmountNotCollectReportContainer
@{
    var title = "ارصدة المنتجات مع سعر الصاج";
    ViewData["Title"] = title;
    string data = JsonConvert.SerializeObject(Model.Items);
}



@if( !string.IsNullOrEmpty(ViewBag.Errors) )
{
    <partial name="_AlertText" model="@ViewBag.Errors" />
    ViewBag.Errors = string.Empty;
}
@section PageHeading {
    <partial name="_PageTitle" model="@title" />
}


<card title=@title addational-class="fa-list-ol"
      text-color-class="text-white" header-class="bg-primary">
    <form asp-controller="Reports" asp-action="GetAmountBalanceStoreItemNotCollectPurchQty" method="post">
        <div class="row justify-content-center aling-items-center">
            <div class="col-12">
                @Html.Editor("StoreItemId","StoreItemsList",new
                    {
                        htmlAttributes = new
                        {
                            @name = "StoreItemId",
                            @id = "StoreItemId",
                            @class = "form-select"
                        }
                    })
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label class="form-label">تاريخ البداية</label>
                    <input class=" smallDate form-control" value="@Model.Search.StartDate" name="StartDate" id="StartDate" required />
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label class="form-label">تاريخ النهاية</label>
                    <input class=" smallDate form-control" value="@Model.Search.EndDate" name="EndDate" id="EndDate" required />
                </div>
            </div>
            <div class="col-12 text-center mt-2">
                <button type="submit" class="btn btn-primary  w-25 mx-auto">بحث</button>
            </div>
        </div>

    </form>
</card>



<card title=@title addational-class="fa-list-ol"
      text-color-class="text-white" header-class="bg-primary">
    <table class="table table-striped table-bordered table-hover dataTable">
        <thead>
            <tr>
                <th>المنتج</th>
                <th>الكمية</th>
                <th>سعر الصاج</th>
            </tr>
        </thead>
        <tbody data-bind="foreach:items">

            <tr>
                <td><span data-bind="text:StoreItemName"></span></td>
                <td><span data-bind="text:StoreItemMainQuantity"></span></td>
                <td><span data-bind="text:PriceItemsRawPurchase"></span></td>
            </tr>
        </tbody>
    </table>
</card>


@section Scripts {
    <script src="~/lib/knockout/knockout-3.5.0.js"></script>
    <script src="~/lib/knockout.mapping/knockout.mapping.js"></script>
    <script src="~/APP/General/GeneralTableViewModel.js" asp-append-version="true"></script>

    <script type="text/javascript">
        var client = new GeneralTable(@Html.Raw(data));
        ko.applyBindings(client);
    </script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

}


